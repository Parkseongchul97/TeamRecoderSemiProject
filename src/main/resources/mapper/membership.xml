<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.MembershipMapper">

    <resultMap id="createclubMap" type="Membership">
        <id column="membership_code" property="membershipCode"/>
        <result column="membership_name" property="membershipName"/>
        <result column="membership_img" property="membershipImg"/>
        <result column="membership_info" property="membershipInfo"/>
        <result column="membership_date" property="membershipDate"/>
        <result column="membership_grade" property="membershipGrade"/>
        <result column="membership_max" property="membershipMax"/>
        <association property="membershipUserList" javaType="MembershipUserList">
            <id column="list_code" property="listCode"/>
            <result column="list_grade" property="listGrade"/>
            <result column="user_code" property="userCode"/>
            <result column="membership_code" property="membershipCode"/>
        </association>
        
        
    </resultMap>

    <insert id="createclub" parameterType="Membership">
        INSERT INTO membership (membership_code, membership_name, membership_img, membership_info, membership_date, membership_grade, membership_max)
        VALUES (#{membershipCode}, #{membershipName}, #{membershipImg}, #{membershipInfo}, #{membershipDate}, #{membershipGrade}, #{membershipMax})
    </insert>


<insert id="createMembershipUserList" parameterType="MembershipUserList">
        INSERT INTO membership_user_list (list_grade, user_code, membership_code)
        VALUES (#{listGrade}, #{userCode}, #{membershipCode});
    </insert>
    
    <select id="allClub" resultType ="MemberShip" >

	SELECT * FROM membership
    
    </select>
    

</mapper>
